<div class="row">
    <div class="columns">
        <f:link.action title="{f:translate(key:'LLL:EXT:bw_bookingmanager/Resources/Private/Language/locallang_db.xlf:date.prevMonth')}"
            class="button" action="show" arguments="{calendar: calendar, day: configuration.prevMonth.day, month: configuration.prevMonth.month, year: configuration.prevMonth.year}">prev month</f:link.action>
    </div>
    <div class="columns text-center">
        <h2>
            <f:translate key="LLL:EXT:bw_bookingmanager/Resources/Private/Language/locallang_db.xlf:date.monthNames.{f:format.date(date:configuration.weeks.1.0.date, format:'n')}"
            /> {f:format.date(date:configuration.weeks.1.0.date, format:'Y')}
        </h2>
    </div>
    <div class="columns text-right">
        <f:link.action title="{f:translate(key:'LLL:EXT:bw_bookingmanager/Resources/Private/Language/locallang_db.xlf:date.nextMonth')}"
            class="button" action="show" arguments="{calendar: calendar, day: configuration.nextMonth.day, month: configuration.nextMonth.month, year: configuration.nextMonth.year}">next month</f:link.action>
    </div>
</div>


<div class="row small-up-7">
    <div class="columns text-center">
        <f:translate key="LLL:EXT:bw_bookingmanager/Resources/Private/Language/locallang_db.xlf:date.dayNames.short.1" />
    </div>
    <div class="columns text-center">
        <f:translate key="LLL:EXT:bw_bookingmanager/Resources/Private/Language/locallang_db.xlf:date.dayNames.short.2" />
    </div>
    <div class="columns text-center">
        <f:translate key="LLL:EXT:bw_bookingmanager/Resources/Private/Language/locallang_db.xlf:date.dayNames.short.3" />
    </div>
    <div class="columns text-center">
        <f:translate key="LLL:EXT:bw_bookingmanager/Resources/Private/Language/locallang_db.xlf:date.dayNames.short.4" />
    </div>
    <div class="columns text-center">
        <f:translate key="LLL:EXT:bw_bookingmanager/Resources/Private/Language/locallang_db.xlf:date.dayNames.short.5" />
    </div>
    <div class="columns text-center">
        <f:translate key="LLL:EXT:bw_bookingmanager/Resources/Private/Language/locallang_db.xlf:date.dayNames.short.6" />
    </div>
    <div class="columns text-center">
        <f:translate key="LLL:EXT:bw_bookingmanager/Resources/Private/Language/locallang_db.xlf:date.dayNames.short.0" />
    </div>
</div>

<f:for each="{configuration.weeks}" as="week">
    <div class="row small-up-7">
        <f:for each="{week}" as="day">
            <div class="column">
                <f:if condition="{day.isNotInMonth}">
                    <f:then>

                    </f:then>
                    <f:else>
                        <h3>{f:format.date(date:day.date, format:'j')}</h3>
                        <hr />
                        <ul>
                            <f:for each="{day.timeslots}" as="timeslot">
                                <li>{f:format.date(date:timeslot.startDate, format:'H:i')} - {f:format.date(date:timeslot.endDate,
                                    format:'H:i')}
                                    <p>{timeslot.bookedWeight} / {timeslot.maxWeight} booked</p>
                                    <f:if condition="{timeslot.isBookable}">
                                        <f:link.action controller="Entry" pageUid="{f:if(condition:settings.entryPid, then:settings.entryPid, else:page)}" pageType="{f:if(condition:settings.ajax.enable, then:settings.ajax.typeNum, else:0)}"
                                            class="bw_bookingmanager__ajaxLink" data="{ajax-container:'bw_bookingmanager__newEntry'}"
                                            action="new" arguments="{settings: settings, calendar: calendar, timeslot: timeslot, start: '{f:format.date(date: timeslot.startDate, format:\'Y-m-d H:i:s\')}', end: '{f:format.date(date: timeslot.endDate, format:\'Y-m-d H:i:s\')}'}">
                                            book
                                        </f:link.action>
                                    </f:if>
                                </li>
                            </f:for>
                        </ul>
                    </f:else>
                </f:if>
            </div>
        </f:for>
    </div>
</f:for>